--
-- PostgreSQL database dump
--

-- Dumped from database version 13.2
-- Dumped by pg_dump version 13.2

-- Started on 2021-05-25 16:26:23

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 639 (class 1247 OID 16892)
-- Name: email_data; Type: DOMAIN; Schema: public; Owner: postgres
--

CREATE DOMAIN public.email_data AS character varying(50)
	CONSTRAINT emaildata_check CHECK (((VALUE)::text ~ '^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})'::text));


ALTER DOMAIN public.email_data OWNER TO postgres;

--
-- TOC entry 626 (class 1247 OID 16946)
-- Name: phone_number_data; Type: DOMAIN; Schema: public; Owner: postgres
--

CREATE DOMAIN public.phone_number_data AS character varying(13)
	CONSTRAINT phonenumberdata_check CHECK ((("position"((VALUE)::text, '+'::text) = 1) AND ("substring"((VALUE)::text, 2, char_length((VALUE)::text)) ~ '^[0-9\.]+$'::text)));


ALTER DOMAIN public.phone_number_data OWNER TO postgres;

--
-- TOC entry 643 (class 1247 OID 16906)
-- Name: type_of_volunteer; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.type_of_volunteer AS ENUM (
    'eco',
    'zoo',
    'phone',
    'intelectual',
    'school',
    'homeless',
    'families',
    'inclusive',
    'culture',
    'medecine'
);


ALTER TYPE public.type_of_volunteer OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 200 (class 1259 OID 16948)
-- Name: client; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.client (
    login character varying(20) NOT NULL,
    email public.email_data NOT NULL,
    name character varying(50) NOT NULL,
    birthday date,
    city character varying(20),
    password character varying(100) NOT NULL,
    phone_number public.phone_number_data NOT NULL,
    is_organization boolean NOT NULL,
    site character varying(50)
);


ALTER TABLE public.client OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 16961)
-- Name: event; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.event (
    id integer NOT NULL,
    created_by character varying(20) NOT NULL,
    name character varying(100) NOT NULL,
    type public.type_of_volunteer NOT NULL,
    place character varying(100) NOT NULL,
    description text NOT NULL,
    date date
);


ALTER TABLE public.event OWNER TO postgres;

--
-- TOC entry 201 (class 1259 OID 16959)
-- Name: event_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.event_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.event_id_seq OWNER TO postgres;

--
-- TOC entry 3021 (class 0 OID 0)
-- Dependencies: 201
-- Name: event_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.event_id_seq OWNED BY public.event.id;


--
-- TOC entry 203 (class 1259 OID 25342)
-- Name: order; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."order" (
    order_id integer NOT NULL,
    event_id integer NOT NULL,
    user_login character varying NOT NULL
);


ALTER TABLE public."order" OWNER TO postgres;

--
-- TOC entry 2872 (class 2604 OID 16964)
-- Name: event id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.event ALTER COLUMN id SET DEFAULT nextval('public.event_id_seq'::regclass);


--
-- TOC entry 3012 (class 0 OID 16948)
-- Dependencies: 200
-- Data for Name: client; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.client (login, email, name, birthday, city, password, phone_number, is_organization, site) FROM stdin;
Login1	firstvolunt@gmail.com	Nastya	2002-12-12	Lviv	12345	+380996762941	f	\N
login.login	organ@mail.com	Organization	\N	Kyiv	qwer123	+380689237411	t	organization.com.ua
testlogin	testlogin@lnu.edu.ua	test	1989-09-09	Lviv	testpass	+380986454962	f	\N
\.


--
-- TOC entry 3014 (class 0 OID 16961)
-- Dependencies: 202
-- Data for Name: event; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.event (id, created_by, name, type, place, description, date) FROM stdin;
1	login.login	Любимо світ!	eco	Львів, парк Франка	Давайте садити дерева!	2021-05-23
2	testlogin	Допоможи тваринам)	zoo	Львів,  вул. Кульпарківська 32	Приносьте корм і все, що можете!	2021-05-04
3	Login1	Їм потрібна твоя допомога	medecine	Львів, вул Чупринки 61	Чекаємо на тебе і твою допомогу.	2021-05-30
5	Login1	Навчання громадських організацій щодо комунікацій	intelectual	вулиця Залізнична 45	Навчання буде проведене для громадських організацій Ольгою Кривою.Як буде розказувати про комунікації між людьми	2021-04-04
6	testlogin	Мій тедефонний друг	phone	вулиця Комарова 24	Ви зможете знайти свого телефонного друга	2021-11-11
7	login.login	Шкільний урок волонтерства	school	вулиця Виговського 11	Зможете поділитись досвідом волонтерства з майбутнім поколінням	2021-12-04
8	testlogin	Збір одгу для безпритульних	homeless	вулиця Пасічна 33	Збір теплого одгягуб взуттяб нижньої білизни проводиться протягом 5 днів до самої зустрічі	2021-07-24
9	Login1	Допомога на зустрічі з психодогами	families	вулиця Городоцька 112	Потрібні волонтери що зможуть спілкуватись з учасниками. Допоможуть влаштувати кава-брейк	2022-04-04
10	testlogin	Прогулянка з друзями	inclusive	вулиця Наливайка 45	Допожемо відчути унікальним як це бути звичайними	2021-09-04
11	Login1	Python для всіх	intelectual	вулиця Театральна 11		2021-04-04
12	login.login	Виставка картин	culture	вулиця Площа Ринок 32	Виставка картин молодих художників	2021-07-20
13	login.login	Допоможи лікарю	medecine	вулиця Топольна 44	Допоможемо лікарям 	2021-09-04
14	testlogin	Врятуємо наш парк 	eco	вулиця Зелена 13	Зробимо наш парк зеленішим	2021-10-30
15	Login1	Пташки серед людей	zoo	вулиця Чупринки 45	 Будемо будувати пташкам годівнички	2021-04-04
16	Login1	Волонтерство це круто	school	вулиця Олени Степанівни 12	Зможемо практикувати волонтерство,та знайти те що тобі до душі	2021-12-04
17	testlogin	Самотні літні люди	homeless	вулиця Сяйво 22	Будемо готувати та роздавати харчі	2021-09-04
18	testlogin	Щасливі долоньки	families	вулиця Квітки Основяненка 45	Гарячі посиденьки, що допоможуть розкрити потенціал кожного	2021-04-04
19	Login1	Апчих	inclusive	вулиця Шевченка 45	Веселі посиденьки	2021-07-04
20	testlogin	Музична виставка	culture	вулиця Ясна 45	Концерт молодих виконавців	2021-11-04
21	login.login	Ощасливим онкохворих	medecine	вулиця Генерала Чупрники 45	Веселі посиденьки з знедоленими	2021-12-04
\.


--
-- TOC entry 3015 (class 0 OID 25342)
-- Dependencies: 203
-- Data for Name: order; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."order" (order_id, event_id, user_login) FROM stdin;
\.


--
-- TOC entry 3022 (class 0 OID 0)
-- Dependencies: 201
-- Name: event_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.event_id_seq', 1, false);


--
-- TOC entry 2874 (class 2606 OID 16955)
-- Name: client client_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.client
    ADD CONSTRAINT client_pkey PRIMARY KEY (login);


--
-- TOC entry 2876 (class 2606 OID 16969)
-- Name: event event_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.event
    ADD CONSTRAINT event_pkey PRIMARY KEY (id);


--
-- TOC entry 2878 (class 2606 OID 25349)
-- Name: order order_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT order_pkey PRIMARY KEY (order_id);


--
-- TOC entry 2879 (class 2606 OID 16970)
-- Name: event event_createdby_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.event
    ADD CONSTRAINT event_createdby_fkey FOREIGN KEY (created_by) REFERENCES public.client(login) ON DELETE CASCADE;


--
-- TOC entry 2880 (class 2606 OID 25350)
-- Name: order order_event_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT order_event_id_fkey FOREIGN KEY (event_id) REFERENCES public.event(id);


--
-- TOC entry 2881 (class 2606 OID 25355)
-- Name: order order_user_login_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT order_user_login_fkey FOREIGN KEY (user_login) REFERENCES public.client(login);


-- Completed on 2021-05-25 16:26:23

--
-- PostgreSQL database dump complete
--

